@page

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers;
@addTagHelper *, AuthoringTagHelpers
@using Models
@model PE_Trial.Pages.ListModel
@{
    List<Service> services = ViewData["services"] as List<Service>;
    var check = ViewData["check"] as String;
}
<h1>Service Manager</h1>
<h1>@check</h1>

<form method="post" asp-page-handler="OnPost" asp-page="List">
    Room: <input type="text" asp-for="Name1" />
    <input type="submit" value="Search" />
</form>

<h2>List of Services</h2>

<input type="file" />
<input type="submit" value="Import" />

<table class="table table-bordered">
    <td>RoomTitle</td>
    <td>FeeType</td>
    <td>Month</td>
    <td>Year</td>
    <td>Amount</td>
    <td></td>
    <tbody>
        @{
            foreach (var item in services)
            {
                <tr>
                    <td>@item.RoomTitle</td>
                    <td>@item.FeeType</td>
                    <td>@item.Month</td>
                    <td>@item.Year</td>
                    <td>@item.Amount</td>
                    <td>
                        @{
                            if (item.EmployeeNavigation != null)
                            {
                                @item.EmployeeNavigation.Name
                                ;
                            }
                        }
                    </td>

                    <td>
                        <form method="post" asp-page-handler="OnDelete" asp-page="List">
                            <input type="hidden" asp-for="ID" value="@item.Id" />
                            <input type="submit" value="Delete" />
                        </form>

                    </td>
                </tr>



            }
        }
    </tbody>
</table>
